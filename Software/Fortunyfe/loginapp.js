var app=angular.module("HIS",["ngRoute","kendo.directives","ngCookies","globalErrors","ngResource","HIS.Login"]);app.config(["$provide","$httpProvider","$compileProvider",function(o,e,t){$()}]),app.config(["$routeProvider",function(o){o.when("/",{templateUrl:"js/app/Login/loginView.html",controller:"loginController"}).when("/recuperarClave",{templateUrl:"js/app/Login/recuperarPasswordView.html",controller:"recupPassController"}).when("/recuperarClave/nuevaContrasenia/:idUsuario",{templateUrl:"js/app/Login/cambiarPassView.html",controller:"nuevoPasswordController"})}]);var HISLogin=angular.module("HIS.Login",[]);HISLogin.value("startPage","welcome.html"),HISLogin.controller("loginController",["$cookieStore","$scope","Session","startPage",function(o,e,t,r){var a=o.get("tokenActual");null==a?(e.erroresLoggin="",e.mismoValor=!1,e.formData={},e.cerrarPupUp=function(){$("#popupDatosIncorrectos").modal("hide")},e.submitForm=function(o){if(e.submitted=!0,o){var a={alg:"HS256",typ:"JWT"},n={},i=(KJUR.jws.IntDate.get("now"),KJUR.jws.IntDate.get("now + 1day"));n.iss="http://localhost",n.sub="http://localhost",n.exp=i,n.usuario=e.formData.usuario,n.contrasena=e.formData.password,n.latitud="10",n.longitud="20",n.jti="id123456",n.aud="http://localhost";var s=JSON.stringify(a),l=JSON.stringify(n),u=KJUR.jws.JWS.sign(null,s,l,"Vbxq2mlbGJw8XH+ZoYBnUHmHga8/o/IduvU/Tht70iE=");e.token={},e.token.jwt=u;var c={};c.Token=localStorage[u],t.authUser().save(e.token).$promise.then(function(o){var e=KJUR.jws.JWS.readSafeJSONString(b64utoutf8(o.JWT.split(".")[1]));0!=e.idUsuario&&($tokenInicio=o.JWT,localStorage.setItem("sJWT",o.JWT),window.location=r),"000000"==o.Code&&(localStorage.Token=e.token,$window.location.reload())},function(o){o.status;e.mostrarMensajeError=o.data.err,t.logginPswdIncorrecto()})}}):window.location=r}]),HISLogin.controller("recupPassController",["$scope","Session","startPage",function(o,e,t){o.formData={},o.enviarUsuario=function(t){o.submitted=!0,t&&e.recuperarPassword().recupPassword({correo:o.formData.usuario},function(o){e.mensajeEnvioEmail(function(o){window.location="/#/"})},function(o){})},o.cerrarPupUp=function(){$("#popupEnvioEmail").modal("hide")}}]),HISLogin.controller("nuevoPasswordController",["$scope","Session","startPage","$routeParams",function(o,e,t,r){o.token=r.idUsuario,localStorage.setItem("sJWT",o.token),o.formData={},o.cambiarClaveUsuario=function(t,r){if(o.submitted=!0,r)if(o.formData.nuevaClave==o.formData.repitaNuevaClave){var a={alg:"HS256",typ:"JWT"},n={},i=(KJUR.jws.IntDate.get("now"),KJUR.jws.IntDate.get("now + 1day"));n.iss="http://localhost",n.sub="http://localhost",n.exp=i,n.claveNueva=o.formData.nuevaClave,n.jti="id123456",n.aud="http://localhost";var s=JSON.stringify(a),l=JSON.stringify(n),u=KJUR.jws.JWS.sign(null,s,l,"Vbxq2mlbGJw8XH+ZoYBnUHmHga8/o/IduvU/Tht70iE=");o.clave=u,e.CambiarPswd().nuevoPassword({jwt:o.clave},function(o){e.mensajeUpdate(function(o){window.location="/#/"})},function(o){})}else $("#contraseniasDesiguales").modal("show")},o.cerrarPupUp=function(){$("#popupMensajesUpdate").modal("hide"),$("#contraseniasDesiguales").modal("hide")}}]);var globalErrors=new angular.module("globalErrors",[]).config(["$provide","$httpProvider","$compileProvider",function(o,e,t){$();console.log("Aism");var r=function(o,e){$("#mensajeError").text(e),$("#popupErroresGlobales").modal("show"),setTimeout(function(){$("#popupErroresGlobales").modal("hide")},2200)};e.interceptors.push(["$q",function(o){return{responseError:function(e){return console.log("Mole"),console.log(e),r(e.data,e.data.message),o.reject(e)}}}])}]);HISLogin.factory("Session",["$resource","$cookieStore",function(o,e){var t="http://157.245.86.94:8052";localStorage.getItem("sJWT");return{urlBase:function(){return t},authUser:function(){return o(t+"/HS_Autenticar",{},{update:{method:"PUT"}})},recuperarPassword:function(){return o(t+"/HS_Usuario/:id",{id:"@_id"},{recupPassword:{url:t+"/HS_Usuario/recuperarPswd",method:"POST"}})},CambiarPswd:function(){return o(t+"/HS_Usuario/:id",{id:"@_id"},{nuevoPassword:{url:t+"/HS_Usuario/nuevoPswd",method:"POST",headers:{Authorization:"Basic "+Base64.encode(localStorage.getItem("sJWT"))}}})},mensajeEnvioEmail:function(o){$("#popupEnvioEmail").modal("show"),setTimeout(function(){$("#popupEnvioEmail").modal("hide"),setTimeout(function(){return o(200)},800)},2e3)},mensajeUpdate:function(o){$("#popupMensajesUpdate").modal("show"),setTimeout(function(){$("#popupMensajesUpdate").modal("hide"),setTimeout(function(){return o(200)},800)},2e3)},logginPswdIncorrecto:function(){$("#popupDatosIncorrectos").modal("show"),setTimeout(function(){$("#popupDatosIncorrectos").modal("hide")},3e3)}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luYXBwLmpzIiwibG9naW4ubW9kdWxlLmpzIiwibG9naW5Db250cm9sbGVyLmpzIiwibG9naW5FcnJvcnMuanMiLCJsb2dpblNlcnZpY2UuanMiXSwibmFtZXMiOlsiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRwcm92aWRlIiwiJGh0dHBQcm92aWRlciIsIiRjb21waWxlUHJvdmlkZXIiLCIkIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiSElTTG9naW4iLCJ2YWx1ZSIsIiRjb29raWVTdG9yZSIsIiRzY29wZSIsIlNlc3Npb24iLCJzdGFydFBhZ2UiLCJ2ZXJpZmljYW5kb0Nvb2tpZSIsImdldCIsImVycm9yZXNMb2dnaW4iLCJtaXNtb1ZhbG9yIiwiZm9ybURhdGEiLCJjZXJyYXJQdXBVcCIsIm1vZGFsIiwic3VibWl0Rm9ybSIsImlzVmFsaWQiLCJzdWJtaXR0ZWQiLCJvSGVhZGVyIiwiYWxnIiwidHlwIiwib1BheWxvYWQiLCJ0RW5kIiwiS0pVUiIsImp3cyIsIkludERhdGUiLCJpc3MiLCJzdWIiLCJleHAiLCJ1c3VhcmlvIiwiY29udHJhc2VuYSIsInBhc3N3b3JkIiwibGF0aXR1ZCIsImxvbmdpdHVkIiwianRpIiwiYXVkIiwic0hlYWRlciIsIkpTT04iLCJzdHJpbmdpZnkiLCJzUGF5bG9hZCIsInNKV1QiLCJKV1MiLCJzaWduIiwidG9rZW4iLCJqd3QiLCJwYXJhbSIsIlRva2VuIiwibG9jYWxTdG9yYWdlIiwiYXV0aFVzZXIiLCJzYXZlIiwiJHByb21pc2UiLCJ0aGVuIiwicmVzcG9uc2VNZXNzYWdlIiwicGF5bG9hZE9iaiIsInJlYWRTYWZlSlNPTlN0cmluZyIsImI2NHV0b3V0ZjgiLCJKV1QiLCJzcGxpdCIsImlkVXN1YXJpbyIsIiR0b2tlbkluaWNpbyIsInNldEl0ZW0iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsIkNvZGUiLCIkd2luZG93IiwicmVsb2FkIiwiZXJyb3IiLCJzdGF0dXMiLCJtb3N0cmFyTWVuc2FqZUVycm9yIiwiZGF0YSIsImVyciIsImxvZ2dpblBzd2RJbmNvcnJlY3RvIiwiZW52aWFyVXN1YXJpbyIsInJlY3VwZXJhclBhc3N3b3JkIiwicmVjdXBQYXNzd29yZCIsImNvcnJlbyIsInJlc3VsdCIsIm1lbnNhamVFbnZpb0VtYWlsIiwiY2IiLCIkcm91dGVQYXJhbXMiLCJjYW1iaWFyQ2xhdmVVc3VhcmlvIiwibnVldmFDbGF2ZSIsInJlcGl0YU51ZXZhQ2xhdmUiLCJjbGF2ZU51ZXZhIiwiY2xhdmUiLCJDYW1iaWFyUHN3ZCIsIm51ZXZvUGFzc3dvcmQiLCJtZW5zYWplVXBkYXRlIiwiZ2xvYmFsRXJyb3JzIiwiY29uc29sZSIsImxvZyIsInNob3dNZXNzYWdlIiwibWVuc2FqZSIsInRleHQiLCJzZXRUaW1lb3V0IiwiaW50ZXJjZXB0b3JzIiwicHVzaCIsIiRxIiwicmVzcG9uc2VFcnJvciIsInJlamVjdGlvbiIsIm1lc3NhZ2UiLCJyZWplY3QiLCJmYWN0b3J5IiwiJHJlc291cmNlIiwic2VydmljaW9zQmFzZSIsImdldEl0ZW0iLCJ1cmxCYXNlIiwidXBkYXRlIiwibWV0aG9kIiwiaWQiLCJ1cmwiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsIkJhc2U2NCIsImVuY29kZSJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBQUEsS0FBQUMsUUFBQUMsT0FBQSxPQUFBLFVBRUEsbUJBQ0EsWUFDQSxlQUNBLGFBQ0EsYUFJQUYsS0FBQUcsUUFBQSxXQUFBLGdCQUFBLG1CQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0FDLE9BTUFQLElBQUFHLFFBQUEsaUJBQUEsU0FBQUssR0FFQUEsRUFDQUMsS0FBQSxLQUNBQyxZQUFBLDhCQUNBQyxXQUFBLG9CQUdBRixLQUFBLG1CQUNBQyxZQUFBLDBDQUNBQyxXQUFBLHdCQUVBRixLQUFBLCtDQUNBQyxZQUFBLG9DQUNBQyxXQUFBLDhCQy9CQSxJQUFBQyxVQUFBWCxRQUFBQyxPQUFBLGVBQ0FVLFVBQUFDLE1BQUEs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dUQsR0FBQUMsRUFBQSxxQkFDQUcsUUFDQUMsT0FBQSxVQU1BbkMsa0JBQUEsV0FDQSxNQUFBOEIsR0FBQUMsRUFBQSxtQkFBQUssR0FBQSxTQUNBbkMsZUFBQW9DLElBQUFOLEVBQUEsNEJBQUFJLE9BQUEsV0FJQXZCLFlBQUEsV0FFQSxNQUFBa0IsR0FBQUMsRUFBQSxtQkFBQUssR0FBQSxTQUNBdkIsZUFBQXdCLElBQUFOLEVBQUEsd0JBQUFJLE9BQUEsT0FBQUcsU0FBQUMsY0FBQSxTQUFBQyxPQUFBQyxPQUFBbkUsYUFBQTBELFFBQUEsY0FJQTVCLGtCQUFBLFNBQUFDLEdBRUFqRixFQUFBLG9CQUFBaUIsTUFBQSxRQUNBZ0YsV0FBQSxXQUNBakcsRUFBQSxvQkFBQWlCLE1BQUEsUUFDQWdGLFdBQUEsV0FDQSxNQUFBaEIsR0FBQSxNQUNBLE1BQ0EsTUFFQVMsY0FBQSxTQUFBVCxHQUVBakYsRUFBQSx3QkFBQWlCLE1BQUEsUUFDQWdGLFdBQUEsV0FDQWpHLEVBQUEsd0JBQUFpQixNQUFBLFFBQ0FnRixXQUFBLFdBQ0EsTUFBQWhCLEdBQUEsTUFDQSxNQUNBLE1BRUFQLHFCQUFBLFdBQ0ExRSxFQUFBLDBCQUFBaUIsTUFBQSxRQUNBZ0YsV0FBQSxXQUNBakcsRUFBQSwwQkFBQWlCLE1BQUEsU0FDQSIsImZpbGUiOiJsb2dpbmFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnSElTJywgWyduZ1JvdXRlJyxcclxuXHJcbiAgJ2tlbmRvLmRpcmVjdGl2ZXMnICxcclxuICAnbmdDb29raWVzJyxcclxuICAnZ2xvYmFsRXJyb3JzJyxcclxuICAnbmdSZXNvdXJjZScsICBcclxuICAnSElTLkxvZ2luJ1xyXG4gIF0pXHJcblxyXG5cclxuYXBwLmNvbmZpZyhmdW5jdGlvbigkcHJvdmlkZSwgJGh0dHBQcm92aWRlciwgJGNvbXBpbGVQcm92aWRlcikge1xyXG4gICAgICAgIHZhciBlbGVtZW50c0xpc3QgPSAkKCk7XHJcblxyXG4gICAgICBcclxuICAgICAgfSk7XHJcblxyXG5cclxuYXBwLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJyxmdW5jdGlvbigkcm91dGVQcm92aWRlcikge1xyXG5cclxuICAgICRyb3V0ZVByb3ZpZGVyXHJcbiAgICAgICAgLndoZW4oJy8nLCB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogJ2pzL2FwcC9Mb2dpbi9sb2dpblZpZXcuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgIDogJ2xvZ2luQ29udHJvbGxlcidcclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgICAgICAud2hlbignL3JlY3VwZXJhckNsYXZlJywge1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybCA6ICdqcy9hcHAvTG9naW4vcmVjdXBlcmFyUGFzc3dvcmRWaWV3Lmh0bWwnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyICA6ICdyZWN1cFBhc3NDb250cm9sbGVyJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLndoZW4oJy9yZWN1cGVyYXJDbGF2ZS9udWV2YUNvbnRyYXNlbmlhLzppZFVzdWFyaW8nLCB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogJ2pzL2FwcC9Mb2dpbi9jYW1iaWFyUGFzc1ZpZXcuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgIDogJ251ZXZvUGFzc3dvcmRDb250cm9sbGVyJ1xyXG4gICAgICAgIH0pXHJcbn1dKSIsInZhciBISVNMb2dpbiA9IGFuZ3VsYXIubW9kdWxlKCdISVMuTG9naW4nLFtdKTtcclxuSElTTG9naW4udmFsdWUoXCJzdGFydFBhZ2VcIixcIndlbGNvbWUuaHRtbFwiKTtcclxuIiwiSElTTG9naW5cclxuLmNvbnRyb2xsZXIoJ2xvZ2luQ29udHJvbGxlcicsIFsnJGNvb2tpZVN0b3JlJywnJHNjb3BlJywnU2Vzc2lvbicsJ3N0YXJ0UGFnZScsIGZ1bmN0aW9uKCRjb29raWVTdG9yZSwkc2NvcGUsU2Vzc2lvbixzdGFydFBhZ2Upe1xyXG5cclxuICB2YXIgdmVyaWZpY2FuZG9Db29raWUgPSAkY29va2llU3RvcmUuZ2V0KCd0b2tlbkFjdHVhbCcpO1xyXG4gIGlmKHZlcmlmaWNhbmRvQ29va2llID09IG51bGwpXHJcbiAge1xyXG4gICAgICAgXHJcblxyXG4gICAgICAgICAgICRzY29wZS5lcnJvcmVzTG9nZ2luPVwiXCI7XHJcbiAgICAgICAgICAgJHNjb3BlLm1pc21vVmFsb3IgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAkc2NvcGUuZm9ybURhdGEgPSB7XHJcblxyXG4gICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAkc2NvcGUuY2VycmFyUHVwVXA9ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJCgnI3BvcHVwRGF0b3NJbmNvcnJlY3RvcycpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAkc2NvcGUuc3VibWl0Rm9ybSA9IGZ1bmN0aW9uIChpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICBpZiAoaXNWYWxpZCl7XHJcbiAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdmFyIG9IZWFkZXIgPSB7YWxnOiAnSFMyNTYnLCB0eXA6ICdKV1QnfTtcclxuICAgICAgICAgICAgICAgIHZhciBvUGF5bG9hZCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgdmFyIHROb3cgPSBLSlVSLmp3cy5JbnREYXRlLmdldCgnbm93Jyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdEVuZCA9IEtKVVIuandzLkludERhdGUuZ2V0KCdub3cgKyAxZGF5Jyk7XHJcbiAgICAgICAgICAgICAgICBvUGF5bG9hZC5pc3MgPSBcImh0dHA6Ly9sb2NhbGhvc3RcIjtcclxuICAgICAgICAgICAgICAgIG9QYXlsb2FkLnN1YiA9IFwiaHR0cDovL2xvY2FsaG9zdFwiO1xyXG4gICAgICAgICAgICAgICAgb1BheWxvYWQuZXhwID0gdEVuZDtcclxuICAgICAgICAgICAgICAgIG9QYXlsb2FkLnVzdWFyaW8gPSAkc2NvcGUuZm9ybURhdGEudXN1YXJpbztcclxuICAgICAgICAgICAgICAgIG9QYXlsb2FkLmNvbnRyYXNlbmEgPSAkc2NvcGUuZm9ybURhdGEucGFzc3dvcmQ7XHJcbiAgICAgICAgICAgICAgICBvUGF5bG9hZC5sYXRpdHVkID0gJzEwJztcclxuICAgICAgICAgICAgICAgIG9QYXlsb2FkLmxvbmdpdHVkID0gJzIwJztcclxuICAgICAgICAgICAgICAgIG9QYXlsb2FkLmp0aSA9IFwiaWQxMjM0NTZcIjtcclxuICAgICAgICAgICAgICAgIG9QYXlsb2FkLmF1ZCA9IFwiaHR0cDovL2xvY2FsaG9zdFwiO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgc0hlYWRlciA9IEpTT04uc3RyaW5naWZ5KG9IZWFkZXIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNQYXlsb2FkID0gSlNPTi5zdHJpbmdpZnkob1BheWxvYWQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNKV1QgID0gS0pVUi5qd3MuSldTLnNpZ24obnVsbCwgc0hlYWRlciwgc1BheWxvYWQsIFwiVmJ4cTJtbGJHSnc4WEgrWm9ZQm5VSG1IZ2E4L28vSWR1dlUvVGh0NzBpRT1cIik7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudG9rZW49IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnRva2VuLmp3dD0gc0pXVDtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJhbT17fVxyXG4gICAgICAgICAgICAgICAgcGFyYW0uVG9rZW49bG9jYWxTdG9yYWdlW3NKV1RdO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBTZXNzaW9uLmF1dGhVc2VyKCkuc2F2ZSgkc2NvcGUudG9rZW4pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2VNZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF5bG9hZE9iaiA9IEtKVVIuandzLkpXUy5yZWFkU2FmZUpTT05TdHJpbmcoYjY0dXRvdXRmOChyZXNwb25zZU1lc3NhZ2UuSldULnNwbGl0KFwiLlwiKVsxXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWRPYmouaWRVc3VhcmlvICE9IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdG9rZW5JbmljaW8gPSByZXNwb25zZU1lc3NhZ2UuSldUOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3NKV1QnLCByZXNwb25zZU1lc3NhZ2UuSldUKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbj0gc3RhcnRQYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlTWVzc2FnZS5Db2RlPT1cIjAwMDAwMFwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlW1wiVG9rZW5cIl09cGF5bG9hZE9iai50b2tlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgfSxmdW5jdGlvbihlcnJvcil7XHJcblxyXG4gICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICB2YXIgc3RhdHVzID0gZXJyb3Iuc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICRzY29wZS5tb3N0cmFyTWVuc2FqZUVycm9yPWVycm9yLmRhdGEuZXJyXHJcbiAgICAgICAgICAgICAgICAgU2Vzc2lvbi5sb2dnaW5Qc3dkSW5jb3JyZWN0bygpO1xyXG4gICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIH0pOyBcclxuXHJcbiAgICAgICAgIH1lbHNle1xyXG5cclxuXHJcbiAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgICB9O1xyXG5cclxuXHJcbiAgfWVsc2V7XHJcbiAgICAgICAgIHdpbmRvdy5sb2NhdGlvbj0gc3RhcnRQYWdlO1xyXG4gICAgICB9ICBcclxuXHJcblxyXG59XSlcclxuXHJcbkhJU0xvZ2luLmNvbnRyb2xsZXIoJ3JlY3VwUGFzc0NvbnRyb2xsZXInLCBbJyRzY29wZScsJ1Nlc3Npb24nLCdzdGFydFBhZ2UnLCBmdW5jdGlvbigkc2NvcGUsU2Vzc2lvbixzdGFydFBhZ2Upe1xyXG4gICAgJHNjb3BlLmZvcm1EYXRhPXt9XHJcbiAgICAkc2NvcGUuZW52aWFyVXN1YXJpbyA9IGZ1bmN0aW9uIChpc1ZhbGlkKSBcclxuICAgIHtcclxuICAgICAgICAgJHNjb3BlLnN1Ym1pdHRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICBpZiAoaXNWYWxpZCl7XHJcblxyXG4gICAgICAgICAgU2Vzc2lvbi5yZWN1cGVyYXJQYXNzd29yZCgpLnJlY3VwUGFzc3dvcmQoe2NvcnJlbzokc2NvcGUuZm9ybURhdGEudXN1YXJpb30sIGZ1bmN0aW9uKHJlc3VsdCkge1xyXG4gICAgICAgICAgU2Vzc2lvbi5tZW5zYWplRW52aW9FbWFpbChmdW5jdGlvbihjYil7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbj0gXCIvIy9cIjtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgICAgfSxmdW5jdGlvbiAoZXJyb3Ipe1xyXG5cclxuICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICBcclxuICAgIH1cclxuICAgICAkc2NvcGUuY2VycmFyUHVwVXA9ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJCgnI3BvcHVwRW52aW9FbWFpbCcpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICB9XHJcblxyXG59XSlcclxuSElTTG9naW4uY29udHJvbGxlcignbnVldm9QYXNzd29yZENvbnRyb2xsZXInLCBbJyRzY29wZScsJ1Nlc3Npb24nLCdzdGFydFBhZ2UnLCckcm91dGVQYXJhbXMnLCBmdW5jdGlvbigkc2NvcGUsU2Vzc2lvbixzdGFydFBhZ2UsJHJvdXRlUGFyYW1zKXtcclxuIFxyXG4gICRzY29wZS50b2tlbj0gJHJvdXRlUGFyYW1zLmlkVXN1YXJpbztcclxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc0pXVCcsICRzY29wZS50b2tlbik7IFxyXG4gICRzY29wZS5mb3JtRGF0YT17fVxyXG4gICRzY29wZS5jYW1iaWFyQ2xhdmVVc3VhcmlvPWZ1bmN0aW9uKGZvcm1EYXRhLGlzVmFsaWQpe1xyXG4gICAgJHNjb3BlLnN1Ym1pdHRlZD10cnVlXHJcbiAgICBcclxuICAgIGlmKGlzVmFsaWQpXHJcbiAgICB7ICBcclxuICAgICAgIGlmKCRzY29wZS5mb3JtRGF0YS5udWV2YUNsYXZlID09ICRzY29wZS5mb3JtRGF0YS5yZXBpdGFOdWV2YUNsYXZlKVxyXG4gICAgICAgICAge1xyXG5cclxuICAgICAgICAgICAgdmFyIG9IZWFkZXIgPSB7YWxnOiAnSFMyNTYnLCB0eXA6ICdKV1QnfTtcclxuICAgICAgICAgICAgICAgIHZhciBvUGF5bG9hZCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgdmFyIHROb3cgPSBLSlVSLmp3cy5JbnREYXRlLmdldCgnbm93Jyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdEVuZCA9IEtKVVIuandzLkludERhdGUuZ2V0KCdub3cgKyAxZGF5Jyk7XHJcbiAgICAgICAgICAgICAgICBvUGF5bG9hZC5pc3MgPSBcImh0dHA6Ly9sb2NhbGhvc3RcIjtcclxuICAgICAgICAgICAgICAgIG9QYXlsb2FkLnN1YiA9IFwiaHR0cDovL2xvY2FsaG9zdFwiO1xyXG4gICAgICAgICAgICAgICAgb1BheWxvYWQuZXhwID0gdEVuZDsgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBvUGF5bG9hZC5jbGF2ZU51ZXZhID0gJHNjb3BlLmZvcm1EYXRhLm51ZXZhQ2xhdmU7XHJcbiAgICAgICAgICAgICAgICBvUGF5bG9hZC5qdGkgPSBcImlkMTIzNDU2XCI7XHJcbiAgICAgICAgICAgICAgICBvUGF5bG9hZC5hdWQgPSBcImh0dHA6Ly9sb2NhbGhvc3RcIjtcclxuICAgICAgICAgICAgICAgIHZhciBzSGVhZGVyID0gSlNPTi5zdHJpbmdpZnkob0hlYWRlcik7XHJcbiAgICAgICAgICAgICAgICB2YXIgc1BheWxvYWQgPSBKU09OLnN0cmluZ2lmeShvUGF5bG9hZCk7XHJcbiAgICAgICAgICAgICAgICAgdmFyIHNKV1QgID0gS0pVUi5qd3MuSldTLnNpZ24obnVsbCwgc0hlYWRlciwgc1BheWxvYWQsIFwiVmJ4cTJtbGJHSnc4WEgrWm9ZQm5VSG1IZ2E4L28vSWR1dlUvVGh0NzBpRT1cIik7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2xhdmU9c0pXVDtcclxuXHJcbiAgICAgICAgICAgICBTZXNzaW9uLkNhbWJpYXJQc3dkKCkubnVldm9QYXNzd29yZCh7and0OiRzY29wZS5jbGF2ZX0sIGZ1bmN0aW9uKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAvLyAgICAgIFByb2ZpbGVTZXJ2aWNlLkNhbWJpYXJQYXNzd29yZCgpLnVwZGF0ZVBhc3N3b3JkKHtpZDpcIjU2NmYyOGY3N2M3ZmI0ZTQwZDZjODFiNFwifSx7and0OiRzY29wZS5jbGF2ZX0sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBTZXNzaW9uLm1lbnNhamVVcGRhdGUoZnVuY3Rpb24oY2IpeyAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uPSBcIi8jL1wiO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0sZnVuY3Rpb24gKGVycm9yKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vICBlcnJvcmVzU2VydmljZXMuY29udHJvbEVycm9yKGVycm9yLnN0YXR1cyk7XHJcblxyXG4gICAgICAgICAgICAgIH0pOyBcclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgICQoJyNjb250cmFzZW5pYXNEZXNpZ3VhbGVzJykubW9kYWwoJ3Nob3cnKSBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgIFxyXG4gICAgfSBcclxuXHJcbiAgfVxyXG4gICRzY29wZS5jZXJyYXJQdXBVcD1mdW5jdGlvbigpe1xyXG4gICAgXHJcbiAgICAgJCgnI3BvcHVwTWVuc2FqZXNVcGRhdGUnKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICQoJyNjb250cmFzZW5pYXNEZXNpZ3VhbGVzJykubW9kYWwoJ2hpZGUnKTtcclxuICB9XHJcblxyXG59XSkiLCJ2YXIgZ2xvYmFsRXJyb3JzID0gbmV3IGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2dsb2JhbEVycm9ycycsIFtdKVxyXG4gICAgLmNvbmZpZyhmdW5jdGlvbigkcHJvdmlkZSwgJGh0dHBQcm92aWRlciwgJGNvbXBpbGVQcm92aWRlcikge1xyXG4gICAgICAgIHZhciBlbGVtZW50c0xpc3QgPSAkKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0Fpc20nKTtcclxuICAgICAgICB2YXIgc2hvd01lc3NhZ2UgPSBmdW5jdGlvbihkYXRhLG1lbnNhamUpIHsgICAgICBcclxuXHJcbiAgICAgICAgICAgICQoJyNtZW5zYWplRXJyb3InKS50ZXh0KG1lbnNhamUpO1xyXG4gICAgICAgICAgICAkKCcjcG9wdXBFcnJvcmVzR2xvYmFsZXMnKS5tb2RhbCgnc2hvdycpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAkKCcjcG9wdXBFcnJvcmVzR2xvYmFsZXMnKS5tb2RhbCgnaGlkZScpOyAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0sMjIwMCk7XHJcblxyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKGZ1bmN0aW9uKCRxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcblxyXG4gICAgICAgICAgICAgICAgJ3Jlc3BvbnNlRXJyb3InOiBmdW5jdGlvbihyZWplY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTW9sZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVqZWN0aW9uKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd01lc3NhZ2UocmVqZWN0aW9uLmRhdGEscmVqZWN0aW9uLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBcclxuICAgIH0pXHJcblxyXG4iLCJISVNMb2dpbi5mYWN0b3J5KCdTZXNzaW9uJywgWyckcmVzb3VyY2UnLCAnJGNvb2tpZVN0b3JlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSwgJGNvb2tpZVN0b3JlKSB7XHJcblxyXG5cdHZhciBzZXJ2aWNpb3NCYXNlPVwiaHR0cDovLzE1Ny4yNDUuODYuOTQ6ODA1MlwiO1xyXG5cdFxyXG5cclxuXHR2YXIgZ2V0VG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc0pXVCcpO1xyXG5cclxuXHRyZXR1cm4ge1xyXG5cdFx0dXJsQmFzZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VydmljaW9zQmFzZTtcclxuICAgICAgICB9LFxyXG5cdFx0YXV0aFVzZXI6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuICRyZXNvdXJjZShzZXJ2aWNpb3NCYXNlICsgJy9IU19BdXRlbnRpY2FyJywge30sIHtcclxuXHRcdFx0XHR1cGRhdGU6IHtcclxuXHRcdFx0XHRcdG1ldGhvZDogJ1BVVCdcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH0sXHJcblxyXG5cdFx0cmVjdXBlcmFyUGFzc3dvcmQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuICRyZXNvdXJjZShzZXJ2aWNpb3NCYXNlICsgJy9IU19Vc3VhcmlvLzppZCcsIHsgaWQ6ICdAX2lkJyB9LCB7XHJcblx0XHRcdFx0cmVjdXBQYXNzd29yZDogeyB1cmw6IHNlcnZpY2lvc0Jhc2UgKyAnL0hTX1VzdWFyaW8vcmVjdXBlcmFyUHN3ZCcsIG1ldGhvZDogJ1BPU1QnIH1cclxuXHRcdFx0fSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdENhbWJpYXJQc3dkOiBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gJHJlc291cmNlKHNlcnZpY2lvc0Jhc2UgKyAnL0hTX1VzdWFyaW8vOmlkJywgeyBpZDogJ0BfaWQnIH0sIHtcclxuXHRcdFx0XHRudWV2b1Bhc3N3b3JkOiB7IHVybDogc2VydmljaW9zQmFzZSArICcvSFNfVXN1YXJpby9udWV2b1Bzd2QnLCBtZXRob2Q6ICdQT1NUJywgaGVhZGVyczogeyAnQXV0aG9yaXphdGlvbic6IFwiQmFzaWMgXCIgKyBCYXNlNjQuZW5jb2RlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzSldUJykpIH0gfSxcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fSxcclxuXHRcdG1lbnNhamVFbnZpb0VtYWlsOiBmdW5jdGlvbiAoY2IpIHtcclxuXHJcblx0XHRcdCQoJyNwb3B1cEVudmlvRW1haWwnKS5tb2RhbCgnc2hvdycpO1xyXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQkKCcjcG9wdXBFbnZpb0VtYWlsJykubW9kYWwoJ2hpZGUnKTtcclxuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHJldHVybiBjYigyMDApO1xyXG5cdFx0XHRcdH0sIDgwMCk7XHJcblx0XHRcdH0sIDIwMDApO1xyXG5cdFx0fSxcclxuXHRcdG1lbnNhamVVcGRhdGU6IGZ1bmN0aW9uIChjYikge1xyXG5cclxuXHRcdFx0JCgnI3BvcHVwTWVuc2FqZXNVcGRhdGUnKS5tb2RhbCgnc2hvdycpO1xyXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQkKCcjcG9wdXBNZW5zYWplc1VwZGF0ZScpLm1vZGFsKCdoaWRlJyk7XHJcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gY2IoMjAwKTtcclxuXHRcdFx0XHR9LCA4MDApO1xyXG5cdFx0XHR9LCAyMDAwKTtcclxuXHRcdH0sXHJcblx0XHRsb2dnaW5Qc3dkSW5jb3JyZWN0bzogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkKCcjcG9wdXBEYXRvc0luY29ycmVjdG9zJykubW9kYWwoJ3Nob3cnKTtcclxuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JCgnI3BvcHVwRGF0b3NJbmNvcnJlY3RvcycpLm1vZGFsKCdoaWRlJyk7XHJcblx0XHRcdH0sIDMwMDApO1xyXG5cdFx0fVxyXG5cclxuXHR9XHJcbn1dKVxyXG5cclxuIl19
